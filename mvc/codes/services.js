const codes = require("../../doa/codes");

const CodeSerivces = () => {
  const AddCodes = async (data, cb) => {
    codes.addCodes(data, (err, data, message) => {
      if (err) {
        var resp = {
          message: message,
          success: false,
        };
        cb(err, null, resp);
      } else {
        var resp = {
          message: message,
          success: true,
        };
        cb(err, data, resp);
      }
    });
  };

  const AddCode = async (data, cb) => {
    codes.addCode(data, (err, data, message) => {
      if (err) {
        var resp = {
          message: message,
          success: false,
        };
        cb(err, null, resp);
      } else {
        var resp = {
          message: message,
          success: true,
        };
        cb(err, data, resp);
      }
    });
  };

  const UpdateCode = async (data, cb) => {
    codes.updateCode(data, (err, data, message) => {
      if (err) {
        var resp = {
          message: message,
          success: false,
        };
        cb(err, null, resp);
      } else {
        var resp = {
          message: message,
          success: true,
        };
        cb(err, data, resp);
      }
    });
  };

  const DeleteCode = async (data, cb) => {
    codes.deleteCode(data, (err, data, message) => {
      if (err) {
        var resp = {
          message: message,
          success: false,
        };
        cb(err, null, resp);
      } else {
        var resp = {
          message: message,
          success: true,
        };
        cb(err, data, resp);
      }
    });
  };

  const GetCodes = async (data, cb) => {
    codes.getCodes(data, (err, data, message) => {
      if (err) {
        var resp = {
          message: message,
          success: false,
        };
        cb(err, null, resp);
      } else {
        var resp = {
          message: message,
          success: true,
        };
        cb(err, data, resp);
      }
    });
  };
  return {
    AddCodes,
    AddCode,
    GetCodes,
    UpdateCode,
    DeleteCode,
  };
};

module.exports = CodeSerivces();
